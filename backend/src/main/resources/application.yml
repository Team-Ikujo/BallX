server:
  port: ${SERVER_PORT}

spring:
  application:
    name: ballx-backend
  datasource:
    url: ${DATASOURCE_URL}
    username: ${DATASOURCE_USERNAME}
    password: ${DATASOURCE_PASSWORD}
    driver-class-name: org.postgresql.Driver
    hikari:
      idle-timeout: 5000
      max-lifetime: 420000
      connection-timeout: 5000
      validation-timeout: 3000
  jpa:
    hibernate:
      ddl-auto: update
      naming:
        physical-strategy: org.hibernate.boot.model.naming.CamelCaseToUnderscoresNamingStrategy
      properties:
        hibernate:
          jdbc.time_zone: UTC
          format_sql: true
          show_sql: true
          dialect: org.hibernate.dialect.PostgreSQLDialect
  jackson:
    time-zone: Asia/Seoul
    date-format: yyyy-MM-dd'T'HH:mm:ss.SSSXXX

# OTel 연동을 위한 JSON 로깅 설정 (Spring Boot 3.4+)
logging:
  structured:
    format:
      console: ${LOG_FORMAT:}  # 환경변수로 JSON 활성화 (LOG_FORMAT=logstash)
  level:
    root: INFO
    com.ballx: ${LOG_LEVEL:INFO}
    org.hibernate.SQL: WARN

jwt:
  secret: ${JWT_SECRET_KEY}
  access-valid-time: ${JWT_ACCESS_TIME}
  refresh-valid-time: ${JWT_REFRESH_TIME}


oauth:
  kakao:
    redirect: ${KAKAO_REDIRECT_URI}
    client: ${KAKAO_CLIENT}
    secret: ${KAKAO_SECRET}
    token-uri: https://kauth.kakao.com/oauth/token
    user-info-uri: https://kapi.kakao.com/v2/user/me
  naver:
    redirect: ${NAVER_REDIRECT_URI}
    client: ${NAVER_CLIENT}
    secret: ${NAVER_SECRET}
    token-uri: https://nid.naver.com/oauth2.0/token
    user-info-uri: https://openapi.naver.com/v1/nid/me
  google:
    redirect: ${GOOGLE_REDIRECT_URI}
    client: ${GOOGLE_CLIENT}
    secret: ${GOOGLE_SECRET}
    token-uri: https://oauth2.googleapis.com/token
    user-info-uri: https://www.googleapis.com/oauth2/v3/userinfo
    # authorization-uri: https://accounts.google.com/o/oauth2/v2/auth

rest-client:
  connect-timeout-ms: 2
  read-timeout-ms: 3